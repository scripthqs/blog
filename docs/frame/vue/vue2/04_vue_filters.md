# 过滤器(Vue3 已废弃)

## 过滤器简介

过滤器（Filters）是 vue 为开发者提供的功能，常用于**文本的格式化**。过滤器可以用在两个地方：**插值表达式** 和 **v-bind 属性绑定**。

过滤器应该被添加在 JavaScript 表达式的**尾部**，由“**管道符**`|`”进行调用

```vue
<!-- 插值表达式 -->
<p>message | capitalize</p>
<!-- v-bind 属性绑定 -->
<div v-bind:id="raw.id | formatId"></div>
```

过滤器需要一个自定义语法，打破了大括号内的表达式“只是 JavaScript”的假设，这不仅有学习成本，而且有实现成本

**建议用计算属性或方法代替过滤器，而不是使用过滤器。**

> **在 Vue3.x 中，过滤器已移除，且不再支持。**

## 定义过滤器

在创建 vue 实例期间，可以在 filters 节点中定义过滤器

```js
     <h1>{{message | xyz}}</h1>

      filters: {
        xyz(str) {
          return '!' + str
        }
      }
```

## 私有过滤器

在 filters 节点下定义的过滤器，称为“私有过滤器”，因为它只能在当前 vm 实例所控制的 el 区域内使用。

## 全局过滤器

如果希望在多个 vue 实例之间共享过滤器，则可以按照如下的格式定义全局过滤器，注意要在**Vue 实例最上面**定义。

```js
Vue.filter("hqs", (str) => {
  return "@" + str;
});
```

如果全局过滤器和私有过滤器冲突，按照就近原则，调用私有过滤器。

## 连续调用多个过滤器

过滤器可以串联地进行调用

```js
{
  {
    message | xyz | hqs;
  }
}
```

## 过滤器传参

过滤器的本质是 JavaScript 函数，因此可以接收参数
