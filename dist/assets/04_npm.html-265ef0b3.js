import{_ as i,r as e,o as l,c as r,d as n,e as s,b as a,w as c,f as o}from"./app-f790074e.js";const u="/assets/image-20201204150917555-b5ee72b6.png",d="/assets/image-20201204151301849-db646083.png",k="/assets/image-20201210143938993-03369171.png",m="/assets/image-20201204153505733-4c5cb722.png",h={},q=o(`<h1 id="发布到-npm-仓库" tabindex="-1"><a class="header-anchor" href="#发布到-npm-仓库" aria-hidden="true">#</a> 发布到 npm 仓库</h1><h2 id="完善-package-json" tabindex="-1"><a class="header-anchor" href="#完善-package-json" aria-hidden="true">#</a> 完善 package.json</h2><ul><li>注意: <ul><li>name: 必须是唯一的名称(在 npm 在线中央仓库中没有同名的)</li><li>main: 必须指定为打包生成的 js 文件</li><li>keywords: 指定一些方便别的程序员搜索到当前库的关键字</li></ul></li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utils&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;scripthqs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;前端-自定义工具函数库&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;utils&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;event-bus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pub-sub&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;promise&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/hqs-utils.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="npm-配置" tabindex="-1"><a class="header-anchor" href="#npm-配置" aria-hidden="true">#</a> npm 配置</h2>`,5),g=n("li",null,"npm 配置的中央仓库不能是淘宝镜像",-1),b={href:"https://registry.npmjs.org/",target:"_blank",rel:"noopener noreferrer"},_={href:"http://registry.npm.taobao.org/",target:"_blank",rel:"noopener noreferrer"},v=n("li",null,"查看配置: npm config list",-1),f=n("h2",{id:"注册-npm-中央仓库账号",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#注册-npm-中央仓库账号","aria-hidden":"true"},"#"),s(" 注册 npm 中央仓库账号")],-1),y={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},x=o('<p><img src="'+u+'" alt="image-20201204150917555"></p><h2 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户" aria-hidden="true">#</a> 添加用户</h2><ul><li>执行: npm addUser</li><li>登陆 npm 仓库</li><li>依次指定用户名/密码/邮箱</li></ul><p><img src="'+d+'" alt="image-20201204151301849"></p><h2 id="发布仓库" tabindex="-1"><a class="header-anchor" href="#发布仓库" aria-hidden="true">#</a> 发布仓库</h2><ul><li>执行: npm publish</li></ul><p><img src="'+k+'" alt="image-20201210143938993"></p><ul><li>发布失败, 原因是库的名称重复了, 修改 name 为一个唯一值, 再发布</li></ul><p><img src="'+m+'" alt="image-20201204153505733"></p><h2 id="更新代码后再发布" tabindex="-1"><a class="header-anchor" href="#更新代码后再发布" aria-hidden="true">#</a> 更新代码后再发布</h2><ul><li>修改项目库的版本号: package.json 中的 version 从 1.0.0 改为 1.0.1, 注意一定要变大</li><li>修改代码后重新打包: npm run build</li><li>执行发布: npm publish</li></ul><h2 id="强制删除已发布的库" tabindex="-1"><a class="header-anchor" href="#强制删除已发布的库" aria-hidden="true">#</a> 强制删除已发布的库</h2><ul><li>执行: npm unpublish --force</li><li>注意: 必须在 72 小时内, 否则不能再删除</li></ul>',13);function j(w,N){const t=e("ExternalLinkIcon"),p=e("font");return l(),r("div",null,[q,n("ul",null,[g,n("li",null,[s("发布前必须执行: npm config set registry "),n("a",b,[s("https://registry.npmjs.org/"),a(t)])]),n("li",null,[s("不用发布时: npm config set registry "),n("a",_,[s("http://registry.npm.taobao.org/"),a(t)])]),v]),f,n("ul",null,[n("li",null,[s("注册地址: "),n("a",y,[s("https://www.npmjs.com/"),a(t)])]),n("li",null,[s("关键信息: 用户名/密码/邮箱("),a(p,{color:"red"},{default:c(()=>[s("需要验证")]),_:1}),s(")")])]),x])}const B=i(h,[["render",j],["__file","04_npm.html.vue"]]);export{B as default};
